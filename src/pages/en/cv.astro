---
import PageLayout from '@layouts/PageLayout.astro';
import { t } from '@i18n/utils';

const locale = 'en';
const strings = t(locale);
const lastUpdated = '2025-01';
---

<PageLayout
  title={strings.cv.title}
  description="Curriculum Vitae of Zitong Cheng â€” quantitative finance and machine learning researcher."
>
  <div data-animate>
    <!-- Download button + last updated -->
    <div class="mb-6 flex flex-wrap items-center justify-between gap-4">
      <p class="text-sm text-text-secondary">
        {strings.cv.lastUpdated}: {lastUpdated}
      </p>
      <a
        href="/files/CV.pdf"
        download
        class="btn-press inline-flex items-center gap-2 rounded-lg border border-accent bg-accent/10 px-5 py-2.5 text-sm font-medium text-accent hover:bg-accent hover:text-white"
      >
        <svg class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
          <path stroke-linecap="round" stroke-linejoin="round" d="M3 16.5v2.25A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75V16.5M16.5 12L12 16.5m0 0L7.5 12m4.5 4.5V3" />
        </svg>
        {strings.cv.download}
      </a>
    </div>

    <!-- PDF embed (desktop) -->
    <div class="hidden overflow-hidden rounded-xl border border-border sm:block">
      <iframe
        src="/files/CV.pdf"
        title={strings.cv.title}
        class="h-[80vh] w-full"
        loading="lazy"
      />
    </div>

    <!-- Mobile: download prompt -->
    <div class="rounded-xl border border-border p-8 text-center sm:hidden">
      <svg class="mx-auto mb-4 h-16 w-16 text-text-secondary/50" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1">
        <path stroke-linecap="round" stroke-linejoin="round" d="M19.5 14.25v-2.625a3.375 3.375 0 00-3.375-3.375h-1.5A1.125 1.125 0 0113.5 7.125v-1.5a3.375 3.375 0 00-3.375-3.375H8.25m2.25 0H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 00-9-9z" />
      </svg>
      <p class="mb-4 text-text-secondary">
        {strings.cv.mobileHint}
      </p>
      <a
        href="/files/CV.pdf"
        download
        class="inline-flex items-center gap-2 rounded-lg bg-accent px-6 py-3 text-sm font-medium text-white transition-colors hover:bg-accent-hover"
      >
        <svg class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
          <path stroke-linecap="round" stroke-linejoin="round" d="M3 16.5v2.25A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75V16.5M16.5 12L12 16.5m0 0L7.5 12m4.5 4.5V3" />
        </svg>
        {strings.cv.download}
      </a>
    </div>
  </div>
</PageLayout>
